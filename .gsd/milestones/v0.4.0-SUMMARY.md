# Milestone: v0.4.0 - Data Science Core

## Completed: 2026-01-30

## Deliverables
- ✅ **Stability Metrics**: Jaccard/Adjusted Rand Index analysis.
- ✅ **Advanced Clustering**: UMAP → HDBSCAN pipeline.
- ✅ **Deterministic Naming**: Medoid/Hypernym naming strategy.
- ✅ **Hierarchical Leaves**: Recursive clustering for large groups.
- ✅ **Constraints Engine**: Rule-based shaping (Post-processing).
- ✅ **Gap Closure**: Resolved regressions in OpenImages/Tencent.

## Phases Completed
1. Phase 1: Stability & Metrics Foundation
2. Phase 2: Geometry-First Clustering
3. Phase 3: Recursive Hierarchy & Formatting
4. Phase 4: Constraints & Shaping
5. Phase 5: Integration
6. Phase 6: Gap Closure

## Lessons Learned
- **Integration Risk**: Changing core APIs (`smart.apply_semantic_arrangement`) broke downstream consumers (`openimages.py`, `tencent.py`).
    - *Action*: Added regression tests (`test_dataset_fixes.py`) to catch this sooner.
- **Documentation**: Automated workflows (`/map`) must respect manual domain knowledge.
    - *Action*: Split `ARCHITECTURE.md` (Map) and `README.md` (Domain) to prevent overwrites.
- **Testing**: Mocking internal dependencies requires care with imports (module vs source patching).
